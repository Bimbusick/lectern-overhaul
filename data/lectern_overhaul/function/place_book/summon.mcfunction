$execute if score @s lectern_overhaul.settings.mode matches 1 run summon text_display ~ ~ ~ {Tags:["lectern_overhaul.book.root","set.data"],Passengers:[{id:"item_display",item:{id:"white_dye",count:1,components:{"item_model":"lectern_overhaul:left"}},Tags:["lectern_overhaul.book.left_cover"],transformation:[1f,0f,0f,0f,0f,-0.9239f,0.3827f,0.089f,0f,-0.3827f,-0.9239f,0.1489f,0f,0f,0f,1f],item_display:"head",interpolation_duration:$(interpolation_duration),Rotation:[$(rotation),0f]},{id:"item_display",item:{id:"white_dye",count:1,components:{"item_model":"lectern_overhaul:right"}},Tags:["lectern_overhaul.book.right_cover"],transformation:[-1f,0f,0f,0f,0f,0.9239f,0.3827f,0.089f,0f,0.3827f,-0.9239f,0.1489f,0f,0f,0f,1f],item_display:"head",interpolation_duration:$(interpolation_duration),Rotation:[$(rotation),0f]},{id:"item_display",item:{id:"white_dye",count:1,components:{"item_model":"lectern_overhaul:page"}},Tags:["lectern_overhaul.book.page"],transformation:[0f,0f,0f,0f,0f,0f,0f,0.089f,0f,0f,0f,0.1489f,0f,0f,0f,1f],item_display:"head",interpolation_duration:$(interpolation_duration),Rotation:[$(rotation),0f]}],Rotation:[$(rotation),0f],shadow_radius:0f,shadow_strength:0,interpolation_duration:$(interpolation_duration),line_width:114,shadow:1b,alignment:"left",view_range:$(view_range),transformation:{left_rotation:[0f,0f,0f,1f],right_rotation:[0f,0f,0f,1f],translation:[0f,0f,0f],scale:[0f,0f,0f]},data:{facing:"$(facing)"}}
$execute if score @s lectern_overhaul.settings.mode matches 2 run summon text_display ~ ~ ~ {Tags:["lectern_overhaul.book.root","set.data"],Passengers:[{id:"item_display",item:{id:"white_dye",count:1,components:{"item_model":"lectern_overhaul:left"}},Tags:["lectern_overhaul.book.left_cover"],transformation:[1f,0f,0f,0f,0f,-0.9239f,0.3827f,0.089f,0f,-0.3827f,-0.9239f,0.1489f,0f,0f,0f,1f],item_display:"head",interpolation_duration:$(interpolation_duration),Rotation:[$(rotation),0f]},{id:"item_display",item:{id:"white_dye",count:1,components:{"item_model":"lectern_overhaul:right"}},Tags:["lectern_overhaul.book.right_cover"],transformation:[-1f,0f,0f,0f,0f,0.9239f,0.3827f,0.089f,0f,0.3827f,-0.9239f,0.1489f,0f,0f,0f,1f],item_display:"head",interpolation_duration:$(interpolation_duration),Rotation:[$(rotation),0f]},{id:"item_display",item:{id:"white_dye",count:1,components:{"item_model":"lectern_overhaul:page"}},Tags:["lectern_overhaul.book.page"],transformation:[0f,0f,0f,0f,0f,0f,0f,0.089f,0f,0f,0f,0.1489f,0f,0f,0f,1f],item_display:"head",interpolation_duration:$(interpolation_duration),Rotation:[$(rotation),0f]},{id:"text_display",Tags:["lectern_overhaul.book.second_text"],Rotation:[$(rotation),0f],shadow_radius:0f,shadow_strength:0,interpolation_duration:$(interpolation_duration),line_width:114,shadow:1b,alignment:"left",view_range:$(view_range),transformation:{left_rotation:[0f,0f,0f,1f],right_rotation:[0f,0f,0f,1f],translation:[0f,0f,0f],scale:[0f,0f,0f]}}],Rotation:[$(rotation),0f],shadow_radius:0f,shadow_strength:0,interpolation_duration:$(interpolation_duration),line_width:114,shadow:1b,alignment:"left",view_range:$(view_range),transformation:{left_rotation:[0f,0f,0f,1f],right_rotation:[0f,0f,0f,1f],translation:[0f,0f,0f],scale:[0f,0f,0f]},data:{facing:"$(facing)"}}
scoreboard players operation #MODE lectern_overhaul.settings.mode = @s lectern_overhaul.settings.mode
scoreboard players operation #SPEED lectern_overhaul.settings.animations_speed = @s lectern_overhaul.settings.animations_speed
execute as @e[type=text_display,tag=lectern_overhaul.book.root,tag=set.data,limit=1,distance=..0.1] run function lectern_overhaul:place_book/set_data
$setblock ~ ~-0.5 ~ lectern[facing=$(facing),powered=true]
$execute rotated $(rotation) 0 run summon interaction ^0.25 ^ ^0.15 {width:0.5,height:0.2,response:1b,Tags:["lectern_overhaul.book.interact","right"]}
$execute rotated $(rotation) 0 run summon interaction ^-0.25 ^ ^0.15 {width:0.5,height:0.2,response:1b,Tags:["lectern_overhaul.book.interact","left"]}